<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>封装自己的class类</title>
    <style>
        div{
            width: 100px;
            height: 100px;
            background-color: pink;
            margin:10px;
        }
        .test{

        }
    </style>
    <script>
        window.onload= function () {
//            var dom=document.getElementsByClassName("demo");
//            alert(dom.length);
            function getClass(classname,id){
                //如果浏览器支持，则直接返回
//                if(document.getElementsByClassName)
//                {
//                    if(id)
//                    {
//                        return document.getElementById(id).getElementsByClassName(classname);
//                    }
//                    else
//                    {
//                        return document.getElementsByClassName(classname);
//                    }
//                }
//                else {//如果浏览器不支持
                    var arr=[];
                    var dom;
                    if(id)
                    {
                        dom=document.getElementById(id).getElementsByTagName("*");
                    }
                    else
                    {
                        dom=document.getElementsByTagName("*");
                    }
                    for(var i=0;i<dom.length;i++)
                    {
                        var txt=dom[i].className.split(" ");
                        for(var j=0;j<txt.length;j++)
                        {
                            if(txt[j]==classname)
                            {
                                arr.push(dom[i]);
                            }
                        }
                    }
                    return arr;
                }
           // }
            console.log(getClass("test").length);
            var divs=getClass("test");
            for(var i=0;i<divs.length;i++)
            {
                divs[i].style.backgroundColor="purple";
            }
        }
    </script>
</head>
<body>
<div></div>
<div class="demo  test  one"></div>
<div></div>
<div class="test"></div>
<div></div>
<div id="box">
    <div class="demo test"></div>
    <div></div>
    <div></div>
    <div class="demo"></div>
    <div></div>
</div>

</body>
</html>